"use strict";(self["webpackChunkgenshin_artifacts"]=self["webpackChunkgenshin_artifacts"]||[]).push([[41],{3041:function(t,e,a){a.r(e),a.d(e,{default:function(){return p}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{"margin-bottom":"16px"}},[a("el-radio-group",{staticStyle:{"margin-right":"24px"},attrs:{size:"small"},model:{value:t.damageType,callback:function(e){t.damageType=e},expression:"damageType"}},[a("el-radio-button",{attrs:{label:"normal"}},[t._v(t._s(t.normalDamageName))]),t.showMeltOption?a("el-radio-button",{attrs:{label:"melt"}},[t._v("融化")]):t._e(),t.showVaporizeOption?a("el-radio-button",{attrs:{label:"vaporize"}},[t._v("蒸发")]):t._e()],1),"normal"===t.damageType?a("span",{staticClass:"damage-display"},[t._v(t._s(Math.round(t.damageNormal)))]):t._e(),"melt"===t.damageType?a("span",{staticClass:"damage-display"},[t._v(t._s(Math.round(t.damageMelt)))]):t._e(),"vaporize"===t.damageType?a("span",{staticClass:"damage-display"},[t._v(t._s(Math.round(t.damageVaporize)))]):t._e()],1),a("div",{staticClass:"header-row",staticStyle:{overflow:"auto","margin-bottom":"16px"}},[a("div",[a("div",{staticClass:"big-title base-damage-region"},[t._v(t._s(t.baseRegionName))]),a("div",{staticClass:"header-row"},[t.atkRatioState.length>0?a("damage-analysis-util",{attrs:{arr:t.atkState,title:"攻击力"}}):t._e(),t.atkRatioState.length>0?a("damage-analysis-util",{attrs:{arr:t.atkRatioState,title:"攻击力倍率"}}):t._e(),t.defRatioState.length>0?a("damage-analysis-util",{attrs:{arr:t.defState,title:"防御力"}}):t._e(),t.defRatioState.length>0?a("damage-analysis-util",{attrs:{arr:t.defRatioState,title:"防御力倍率"}}):t._e(),t.hpRatioState.length>0?a("damage-analysis-util",{attrs:{arr:t.hpState,title:"生命值"}}):t._e(),t.hpRatioState.length>0?a("damage-analysis-util",{attrs:{arr:t.hpRatioState,title:"生命值倍率"}}):t._e(),t.extraDamageState.length>0?a("damage-analysis-util",{attrs:{arr:t.extraDamageState,title:"其他"}}):t._e()],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isHeal,expression:"!isHeal"}]},[a("div",{staticClass:"big-title critical-region"},[t._v("暴击")]),a("div",{staticClass:"header-row"},[a("damage-analysis-util",{attrs:{arr:t.criticalState,title:"暴击率"}}),a("damage-analysis-util",{attrs:{arr:t.criticalDamageState,title:"暴击伤害"}})],1)]),a("div",[a("div",{staticClass:"big-title bonus-region"},[t._v("加成")]),a("div",{staticClass:"header-row"},[a("damage-analysis-util",{attrs:{arr:t.bonusState,title:t.bonusRegionName}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:"melt"===t.damageType||"vaporize"===t.damageType,expression:"damageType === 'melt' || damageType === 'vaporize'"}]},[a("div",{staticClass:"big-title reaction-ratio-region"},[t._v("反应倍率")]),a("div",{staticClass:"header-row",staticStyle:{height:"100%",display:"flex","align-items":"center","justify-content":"center"}},[a("span",[t._v(t._s(t.reactionRatio))])])]),"melt"===t.damageType?a("div",[a("div",{staticClass:"big-title melt-region"},[t._v("增幅伤害加成")]),a("div",{staticClass:"header-row"},[a("damage-analysis-util",{attrs:{arr:t.meltEnhanceState,title:"融化伤害加成"}})],1)]):t._e(),"vaporize"===t.damageType?a("div",[a("div",{staticClass:"big-title vaporize-region"},[t._v("增幅伤害加成")]),a("div",{staticClass:"header-row"},[a("damage-analysis-util",{attrs:{arr:t.vaporizeEnhanceState,title:"蒸发伤害加成"}})],1)]):t._e()]),t.isHeal?t._e():a("div",{staticClass:"header-row",staticStyle:{overflow:"auto"}},[a("div",[a("div",{staticClass:"big-title def-minus"},[t._v("防御乘区")]),a("div",{staticClass:"header-row"},[a("damage-analysis-util",{attrs:{arr:t.defMinusState,title:"减防"}}),a("damage-analysis-util",{attrs:{arr:t.defPenetrationState,title:"穿防"}})],1)]),a("div",[a("div",{staticClass:"big-title res-minus"},[t._v("抗性乘区")]),a("div",{staticClass:"header-row"},[a("damage-analysis-util",{attrs:{arr:t.resMinusState,title:"减抗"}})],1)])])])},s=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"min-width":"100px"}},[a("div",{staticClass:"header"},[t._v(t._s(t.title))]),a("div",t._l(t.arr,(function(e){return a("div",{key:e.name,staticClass:"item"},[a("div",{staticClass:"item-top"},[a("el-checkbox",{model:{value:e.checked,callback:function(a){t.$set(e,"checked",a)},expression:"item.checked"}},[t._v(t._s(e.name))])],1),a("div",{staticClass:"item-bottom"},[a("input",{directives:[{name:"model",rawName:"v-model.number",value:e.value,expression:"item.value",modifiers:{number:!0}}],staticClass:"input",attrs:{type:"text"},domProps:{value:e.value},on:{input:function(a){a.target.composing||t.$set(e,"value",t._n(a.target.value))},blur:function(e){return t.$forceUpdate()}}})])])})),0)])},n=[],l={name:"DamageAnalysisUtil",props:{arr:{},title:{default:"title"}}},o=l,d=a(1001),m=(0,d.Z)(o,r,n,!1,null,"a0a38e98",null),h=m.exports;function c(t){let e=0;for(let a of t)a.checked&&(e+=parseFloat(a.value));return e}var u={name:"DamageAnalysis",components:{DamageAnalysisUtil:h},props:["enemyConfig","characterLevel"],data(){return{damageType:"normal",element:"Pyro",isHeal:!1,atkState:[{name:"test",value:1e3,checked:!0}],atkRatioState:[{name:"test",value:1e3,checked:!0}],defState:[],defRatioState:[],hpState:[],hpRatioState:[],extraDamageState:[],criticalState:[],criticalDamageState:[],meltEnhanceState:[],vaporizeEnhanceState:[],defMinusState:[],defPenetrationState:[],resMinusState:[],bonusState:[],healingBonusState:[]}},methods:{setValue(t){console.log(t);let e={atkState:"atk",atkRatioState:"atk_ratio",defState:"def",defRatioState:"def_ratio",hpState:"hp",hpRatioState:"hp_ratio",extraDamageState:"extra_damage",criticalState:"critical",criticalDamageState:"critical_damage",meltEnhanceState:"melt_enhance",vaporizeEnhanceState:"vaporize_enhance",bonusState:"bonus",defMinusState:"def_minus",defPenetrationState:"def_penetration",resMinusState:"res_minus",healingBonusState:"healing_bonus"};this.element=t.element,this.isHeal=t.is_heal,this.damageType="normal";for(let a in e){let i=e[a],s=[];for(let e in t[i])s.push({name:e,checked:!0,value:Math.round(1e3*t[i][e])/1e3});this[a]=s}}},computed:{normalDamageName(){const t={Pyro:"火元素伤害",Electro:"雷元素伤害",Hydro:"水元素伤害",Anemo:"风元素伤害",Geo:"岩元素伤害",Dendro:"草元素伤害",Cryo:"冰元素伤害",Physical:"物理伤害"};return t[this.element]},showMeltOption(){return"Cryo"===this.element||"Pyro"===this.element},showVaporizeOption(){return"Pyro"===this.element||"Hydro"===this.element},baseRegionName(){return this.isHeal?"基础治疗":"基础伤害"},bonusRegionName(){return this.isHeal?"治疗加成":"伤害加成"},reactionRatio(){let t={Cryomelt:1.5,Pyromelt:2,Pyrovaporize:1.5,Hydrovaporize:2};return t[this.element+this.damageType]},atk(){return c(this.atkState)},atkRatio(){return c(this.atkRatioState)},def(){return c(this.defState)},defRatio(){return c(this.defRatioState)},hp(){return c(this.hpState)},hpRatio(){return c(this.hpRatioState)},extraDamage(){return c(this.extraDamageState)},bonus(){return c(this.bonusState)},healingBonus(){return c(this.healingBonusState)},critical(){return c(this.criticalState)},criticalDamage(){return c(this.criticalDamageState)},meltEnhance(){return c(this.meltEnhanceState)},vaporizeEnhance(){return c(this.vaporizeEnhanceState)},defMinus(){return c(this.defMinusState)},defPenetration(){return c(this.defPenetrationState)},resMinus(){return c(this.resMinusState)},baseDamage(){return this.atk*this.atkRatio+this.def*this.defRatio+this.hp*this.hpRatio+this.extraDamage},damageNormal(){const t=this.enemyConfig.level,e=this.characterLevel,a=100+e,i=a/((1-this.defPenetration)*(1-this.defMinus)*(100+t)+a),s=.1-this.resMinus;let r,n;return r=s>.75?1/(1+4*s):s>0?1-s:1-s/2,n=this.isHeal?this.baseDamage*(1+this.healingBonus):this.baseDamage*(1+this.critical*this.criticalDamage)*(1+this.bonus)*r*i,n},damageMelt(){const t=this.damageNormal*this.reactionRatio*(1+this.meltEnhance);return t},damageVaporize(){const t=this.damageNormal*this.reactionRatio*(1+this.vaporizeEnhance);return t}}},g=u,v=(0,d.Z)(g,i,s,!1,null,"94e1436a",null),p=v.exports}}]);
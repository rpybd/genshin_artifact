"use strict";(self["webpackChunkgenshin_artifacts"]=self["webpackChunkgenshin_artifacts"]||[]).push([[57],{6510:function(t,e,a){a.d(e,{Z:function(){return A}});var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"config-root",style:t.styleRoot},t._l(t.configs,(function(e){return a("ConfigItem",{key:e.name,staticClass:"config",attrs:{params:e,type:e.type,value:t.value2[e.name]},on:{input:function(a){return t.handleInput(e.name,a)}}})})),1)},n=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",{staticClass:"config-title"},[t._v(t._s(t.params.title))]),"float"===t.type?[a("el-slider",{attrs:{value:t.value,min:t.params.min,max:t.params.max,step:.1,"show-input":!0,"show-input-controls":!1,"input-size":"mini"},on:{input:t.handleChangeValue}})]:t._e(),"int"===t.type?[a("el-slider",{attrs:{value:t.value,min:t.params.min,max:t.params.max,step:1},on:{input:t.handleChangeValue}})]:t._e(),"intInput"===t.type?[a("el-input-number",{attrs:{size:"mini",value:t.value,min:t.params.min,max:t.params.max},on:{input:t.handleChangeValue}})]:t._e(),"bool"===t.type?[a("el-switch",{attrs:{value:t.value,"active-text":"是"},on:{input:t.handleChangeValue}})]:t._e(),"floatPercentageInput"===t.type?[a("el-input",{attrs:{value:t.value,size:"mini"},on:{input:t.handleInputValue}},[a("template",{slot:"append"},[t._v("%")])],2)]:t._e(),"floatInput"===t.type?[a("el-input",{attrs:{value:t.value,size:"mini"},on:{input:t.handleInputValue}})]:t._e(),"element4"===t.type?[a("select-element-type",{attrs:{value:t.value,elements:["Pyro","Cryo","Electro","Hydro"]},on:{input:t.handleChangeValue}})]:t._e(),"element8"===t.type?[a("select-element-type",{attrs:{value:t.value,elements:["Pyro","Cryo","Electro","Hydro","Anemo","Geo","Dendro","Physical"]},on:{input:t.handleChangeValue}})]:t._e(),"skill4"===t.type?[a("select-skill-type",{attrs:{value:t.value},on:{input:t.handleChangeValue}})]:t._e(),"option"===t.type?[a("el-radio-group",{attrs:{value:t.value,size:"small"},on:{input:t.handleChangeValue}},t._l(t.params.options,(function(e,l){return a("el-radio-button",{key:l,attrs:{label:l}},[t._v(t._s(e))])})),1)]:t._e()],2)},s=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-radio-group",{attrs:{value:t.value,size:"small"},on:{input:function(e){return t.$emit("input",e)}}},[t.eleMap.has("Pyro")?a("el-radio-button",{attrs:{label:"Pyro"}},[t._v("火")]):t._e(),t.eleMap.has("Electro")?a("el-radio-button",{attrs:{label:"Electro"}},[t._v("雷")]):t._e(),t.eleMap.has("Hydro")?a("el-radio-button",{attrs:{label:"Hydro"}},[t._v("水")]):t._e(),t.eleMap.has("Anemo")?a("el-radio-button",{attrs:{label:"Anemo"}},[t._v("风")]):t._e(),t.eleMap.has("Geo")?a("el-radio-button",{attrs:{label:"Geo"}},[t._v("岩")]):t._e(),t.eleMap.has("Cryo")?a("el-radio-button",{attrs:{label:"Cryo"}},[t._v("冰")]):t._e(),t.eleMap.has("Dendro")?a("el-radio-button",{attrs:{label:"Dendro"}},[t._v("草")]):t._e(),t.eleMap.has("Physical")?a("el-radio-button",{attrs:{label:"Physical"}},[t._v("物理")]):t._e()],1)},o=[],u=(a(3948),{name:"SelectElementType",props:{value:{type:String,required:!0},elements:{default:()=>["Pyro","Electro","Hydro","Anemo","Geo","Cryo","Dendro","Physical"]}},computed:{eleMap(){let t=new Set;for(let e of this.elements)t.add(e);return t}}}),c=u,p=a(1001),f=(0,p.Z)(c,r,o,!1,null,null,null),m=f.exports,d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-radio-group",{attrs:{value:t.value,size:"small"},on:{input:function(e){return t.$emit("input",e)}}},[a("el-radio-button",{attrs:{label:"NormalAttack"}},[t._v("普通攻击")]),a("el-radio-button",{attrs:{label:"ChargedAttack"}},[t._v("重击")]),a("el-radio-button",{attrs:{label:"ElementalSkill"}},[t._v("元素战技")]),a("el-radio-button",{attrs:{label:"ElementalBurst"}},[t._v("元素爆发")])],1)},h=[],v={name:"SelectSkillType",props:{value:{type:String,required:!0}}},g=v,_=(0,p.Z)(g,d,h,!1,null,null,null),y=_.exports,b={name:"ConfigItem",components:{SelectSkillType:y,SelectElementType:m},props:{value:{},type:{},params:{}},methods:{handleInputValue(t){let e=0;""===t?e=0:(e=parseFloat(t),isNaN(e)&&(e=0)),this.handleChangeValue(e)},handleChangeValue(t){this.$emit("input",t)}}},C=b,S=(0,p.Z)(C,i,s,!1,null,"078c787e",null),x=S.exports,N={name:"ItemConfig",components:{ConfigItem:x},props:{value:{},itemName:{},configs:{type:Array},bg:{default:"rgb(239, 246, 253)"},needItemName:{default:!0}},computed:{styleRoot(){return{backgroundColor:this.bg}},value2(){return this.needItemName?this.value[this.itemName]:this.value}},methods:{handleInput(t,e){if(this.needItemName){let a=Object.assign({},this.value[this.itemName]);a[t]=e,this.$emit("input",{[this.itemName]:a})}else{let a=Object.assign({},this.value);a[t]=e,this.$emit("input",a)}}}},k=N,I=(0,p.Z)(k,l,n,!1,null,"c7a16bb0",null),A=I.exports},4182:function(t,e,a){a.d(e,{Z:function(){return c}});var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-select",{attrs:{value:t.value,size:"small",multiple:t.multiple,placeholder:t.placeholder},on:{input:function(e){return t.$emit("input",e)}}},[t.includeAny?a("el-option",{attrs:{label:"任意",value:"any"}}):t._e(),t._l(t.tagList,(function(t){return a("el-option",{key:t.name,attrs:{label:t.title,value:t.name}})}))],2)},n=[],i=(a(3948),a(2032)),s={name:"SelectArtifactMainStat",props:{value:{},includeAny:{default:!0},multiple:{default:!1},position:{default:null},placeholder:{type:String,default:"请选择"}},computed:{tagList(){let t=[];if(this.position)for(let e of i.nl[this.position])t.push({name:e,title:i.vB[e].chs});else for(let e in i.vB)t.push({name:e,title:i.vB[e].chs});return t}}},r=s,o=a(1001),u=(0,o.Z)(r,l,n,!1,null,null,null),c=u.exports},4797:function(t,e,a){a.d(e,{Z:function(){return m}});var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-select",{attrs:{value:t.value,disabled:t.disabled,size:"small",multiple:t.multiple,"multiple-limit":t.multipleLimit,placeholder:t.placeholder},on:{input:function(e){return t.$emit("input",e)}}},[t.anyOption?a("el-option",{attrs:{label:"任意",value:"any"}}):t._e(),t._l(t.allArtifactsName,(function(e){return a("el-option",{key:e.name,attrs:{label:e.chs,value:e.name}},[a("div",{staticClass:"item"},[a("img",{staticClass:"tn",attrs:{src:e.url}}),a("span",[t._v(t._s(e.chs))])])])}))],2)},n=[],i=(a(2707),a(8600)),s=a(7267);let r=Object.values(i.oN);r.sort(((t,e)=>e.maxStar-t.maxStar));let o=r.map((t=>({name:t.eng,chs:t.chs,url:(0,s.Lk)(t.eng)})));var u={name:"SelectArtifactSet",created:function(){this.allArtifactsName=o},props:{value:{type:String|Array,required:!0},disabled:{type:Boolean,default:!1},anyOption:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},multipleLimit:{default:2},placeholder:{type:String,default:"请选择"}}},c=u,p=a(1001),f=(0,p.Z)(c,l,n,!1,null,"ee44e4fe",null),m=f.exports},4702:function(t,e,a){a.d(e,{Z:function(){return c}});var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-select",{attrs:{size:"small",value:t.value,multiple:t.multiple},on:{input:function(e){return t.$emit("input",e)}}},t._l(t.positions,(function(t){return a("el-option",{key:t.name,attrs:{label:t.chs,value:t.name}})})),1)},n=[],i=a(8613),s={name:"SelectArtifactSlot",props:{value:{},multiple:{default:!1}},created(){this.positions=i.m}},r=s,o=a(1001),u=(0,o.Z)(r,l,n,!1,null,"7cc2cd7e",null),c=u.exports},3381:function(t,e,a){a.r(e),a.d(e,{default:function(){return z}});var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"root"},[a("el-row",[a("el-col",{ref:"content",staticClass:"mona-scroll-hidden left",attrs:{md:6,sm:24}},[a("select-potential-function-name",{model:{value:t.potentialFunctionName,callback:function(e){t.potentialFunctionName=e},expression:"potentialFunctionName"}}),a("div",{staticClass:"pf-detail"},[a("img",{staticClass:"pf-image",attrs:{src:t.pfImage}}),a("div",[a("p",{staticClass:"pf-title"},[t._v(t._s(t.pfChs))]),a("p",{staticClass:"pf-description"},[t._v(t._s(t.pfDescription))])])]),a("div",{staticClass:"pf-config"},[a("item-config",{attrs:{"item-name":t.potentialFunctionName,configs:t.pfConfigConfigs},model:{value:t.potentialFunctionConfig,callback:function(e){t.potentialFunctionConfig=e},expression:"potentialFunctionConfig"}})],1)],1),a("el-col",{staticClass:"col-right mona-scroll-hidden",attrs:{md:18,sm:24}},[a("div",[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-cpu"},on:{click:t.handleClickStart}},[t._v("开始计算")])],1),a("div",{staticClass:"filter"},[a("span",{staticClass:"filter-item"},[a("span",{staticClass:"filter-title"},[t._v("位置")]),a("select-artifact-slot",{attrs:{multiple:!0},model:{value:t.filterSlots,callback:function(e){t.filterSlots=e},expression:"filterSlots"}})],1),a("span",{staticClass:"filter-item"},[a("span",{staticClass:"filter-title"},[t._v("套装")]),a("select-artifact-set",{attrs:{multiple:!0,"multiple-limit":5},model:{value:t.filterSetNames,callback:function(e){t.filterSetNames=e},expression:"filterSetNames"}})],1),a("span",{staticClass:"filter-item"},[a("span",{staticClass:"filter-title"},[t._v("主词条")]),a("select-artifact-main-stat",{attrs:{multiple:!0,"include-any":!1},model:{value:t.filterMainStatNames,callback:function(e){t.filterMainStatNames=e},expression:"filterMainStatNames"}})],1)]),a("div",{staticStyle:{margin:"0 0 20px 0"}},[a("span",{staticClass:"filter-title"},[t._v("等级")]),a("div",{staticClass:"filter-level"},[a("el-input-number",{attrs:{size:"small",min:0,max:t.filterLevel[1]},model:{value:t.filterLevel[0],callback:function(e){t.$set(t.filterLevel,0,e)},expression:"filterLevel[0]"}}),t._v(" ~ "),a("el-input-number",{attrs:{size:"small",min:t.filterLevel[0],max:20},model:{value:t.filterLevel[1],callback:function(e){t.$set(t.filterLevel,1,e)},expression:"filterLevel[1]"}})],1)]),a("div",{staticClass:"artifacts-div"},t._l(t.resultsToBeDisplay,(function(e){return a("artifact-display-by-id",{attrs:{"artifact-id":e[0],extra:e[1].toFixed(2),"show-back":!0,"back-value":e[1]/t.results[0][1]}})})),1),a("div",{staticClass:"pager"},[a("el-pagination",{attrs:{total:t.filteredResults.length,"page-size":20,"current-page":t.currentPage,"hide-on-single-page":"",layout:"prev, pager, next",small:!t.deviceIsPC},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1)])],1)],1)},n=[],i=(a(1817),a(3948),a(4026)),s={ArtifactEff:{name:"ArtifactEff",chs:"有效词条",description:"以单次强化最大档位为1分",badge:i,config:[{default:!1,name:"atk_use",title:"攻击力有效",type:"bool"},{default:0,max:1,min:0,name:"atk_weight",title:"攻击力权重",type:"float"},{default:!0,name:"atk_p_use",title:"攻击力%有效",type:"bool"},{default:1,max:1,min:0,name:"atk_p_weight",title:"攻击力%权重",type:"float"},{default:!1,name:"hp_use",title:"生命值有效",type:"bool"},{default:0,max:1,min:0,name:"hp_weight",title:"生命值权重",type:"float"},{default:!1,name:"hp_p_use",title:"生命值%有效",type:"bool"},{default:0,max:1,min:0,name:"hp_p_weight",title:"生命值%权重",type:"float"},{default:!1,name:"def_use",title:"防御力有效",type:"bool"},{default:0,max:1,min:0,name:"def_weight",title:"防御力权重",type:"float"},{default:!1,name:"def_p_use",title:"防御力%有效",type:"bool"},{default:0,max:1,min:0,name:"def_p_weight",title:"防御力%权重",type:"float"},{default:!0,name:"critical_use",title:"暴击率有效",type:"bool"},{default:1,max:1,min:0,name:"critical_weight",title:"暴击率权重",type:"float"},{default:!0,name:"critical_damage_use",title:"暴击伤害有效",type:"bool"},{default:1,max:1,min:0,name:"critical_damage_weight",title:"暴击伤害权重",type:"float"},{default:!1,name:"elemental_mastery_use",title:"元素精通有效",type:"bool"},{default:0,max:1,min:0,name:"elemental_mastery_weight",title:"元素精通权重",type:"float"},{default:!1,name:"recharge_use",title:"元素充能效率有效",type:"bool"},{default:0,max:1,min:0,name:"recharge_weight",title:"元素充能效率权重",type:"float"}]}};Object.freeze(s);const r=s;function o(t){var e;const a=r[t];if(!a)return"NoConfig";let l=null!==(e=a.config)&&void 0!==e?e:[];if(0===l.length)return"NoConfig";let n={};for(let i of l)n[i.name]=i.default;return{[t]:n}}var u=a(9849),c=a(5648),p=a(6250),f=a(8722),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-select",{attrs:{value:t.value,size:"small"},on:{input:function(e){return t.$emit("input",e)}}},t._l(t.potentialFunctionNames,(function(t){return a("el-option",{key:t.name,attrs:{label:t.chs,value:t.name}})})),1)},d=[];let h=[];for(const B in r){const t=r[B].chs;h.push({name:B,chs:t})}Object.freeze(h);var v={name:"SelectPotentialFunctionName",props:["value"],created(){this.potentialFunctionNames=h}},g=v,_=a(1001),y=(0,_.Z)(g,m,d,!1,null,"4faa5ed6",null),b=y.exports,C=a(4702),S=a(4797),x=a(4182),N=a(6510),k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("artifact-display",t._b({attrs:{item:t.$store.getters["artifacts/artifactsById"][t.artifactId]}},"artifact-display",t.$attrs,!1))},I=[],A=a(6370),F={name:"ArtifactDisplayById",props:["artifactId"],components:{ArtifactDisplay:A.Z}},$=F,E=(0,_.Z)($,k,I,!1,null,"6a55af9a",null),P=E.exports,w={name:"NewArtifactPotentialPage",components:{ArtifactDisplayById:P,SelectArtifactMainStat:x.Z,SelectArtifactSet:S.Z,SelectArtifactSlot:C.Z,SelectPotentialFunctionName:b,ItemConfig:N.Z},data(){return{potentialFunctionName:"ArtifactEff",potentialFunctionConfig:o("ArtifactEff"),results:[],currentPage:1,filterSlots:[],filterSetNames:[],filterMainStatNames:[],filterLevel:[0,20],deviceIsPC:f.B}},methods:{handleClickStart(){const t=(0,u.Cq)(),e=this.potentialFunctionInterface,a=this.$loading({text:"莫娜占卜中"});(0,c.$o)(e,t).then((t=>{this.results=t})).catch((t=>{this.$message.error(t)})).finally((()=>{a.close()}))}},computed:{...(0,p.mapGetters)("artifacts",{artifactsById:"artifactsById"}),potentialFunctionInterface(){return{name:this.potentialFunctionName,config:this.potentialFunctionConfig}},pfImage(){const t=r[this.potentialFunctionName];return null===t||void 0===t?void 0:t.badge},pfChs(){const t=r[this.potentialFunctionName];return null===t||void 0===t?void 0:t.chs},pfDescription(){const t=r[this.potentialFunctionName];return null===t||void 0===t?void 0:t.description},pfConfigConfigs(){const t=r[this.potentialFunctionName];return t?t.config:[]},filteredResults(){let t=[];for(let a of this.results){var e;const l=this.artifactsById[a[0]];if(!l)continue;if(this.filterSlots.length>0&&-1===this.filterSlots.indexOf(l.position))continue;if(this.filterSetNames.length>0&&-1===this.filterSetNames.indexOf(l.setName))continue;if(this.filterMainStatNames.length>0&&-1===this.filterMainStatNames.indexOf(l.mainTag.name))continue;const n=null!==(e=null===l||void 0===l?void 0:l.level)&&void 0!==e?e:20;n<this.filterLevel[0]||n>this.filterLevel[1]||t.push(a)}return t},resultsToBeDisplay(){return this.filteredResults.slice(20*(this.currentPage-1),Math.min(20*this.currentPage,this.filteredResults.length))}},watch:{potentialFunctionName(t,e){var a;if(t===e)return;const l=r[t],n=null!==(a=l.config)&&void 0!==a?a:[];if(0===n.length)this.potentialFunctionConfig="NoConfig";else{let e={};for(const t of n)e[t.name]=t.default;this.potentialFunctionConfig={[t]:e}}}}},Z=w,M=(0,_.Z)(Z,l,n,!1,null,"88179b2c",null),z=M.exports}}]);